---
layout: page
title: Earthquake player
headincludes:
 - olhead.html
 - jquery.html
---

<div id="map" class="map" style="width:100%;height:70vh;min-height:400px"></div>
<script type="text/javascript">
  var map = new ol.Map({
	target: 'map',
	layers: [
	  new ol.layer.Tile({
		source: new ol.source.OSM()
	  })
	],
	view: new ol.View({
	  center: ol.proj.fromLonLat([-117.6, 35.77]),
	  zoom: 6
	})
  });


function load_eq_data() {
	var dataurl=$('#sel_src').val();
	var req=$.ajax({
		url:dataurl,
		datatype:'json'
	})
		.done(function(data,txtstatus,xhr) {
			//console.log('whoopie!',data);
			$('#status').append('<div>Loaded '+data.features.length+' earthquakes from ' +dataurl+'</div>');

		})
		.fail(function(data,txtstatus,err) {
			console.log('whoopsie!',txtstatus,err);
			$('#status').append('<div>Failed to load '+dataurl+' error '+err+'</div>');
		});
}
$(document).ready(function() {
	$('#btn_play').click(function() {
	});
	$('#sel_src').change(function() {

		load_eq_data();
	});
	load_eq_data();
});
</script>
<div>
<select id="sel_src">
	<option value="/assets/json/test-20190706-2.5_week.geojson.json">static test</option>
    <option value="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_day.geojson">M4.5+ Earthquakes Past Day</option>
    <option value="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_day.geojson">M2.5+ Earthquakes Past Day</option>
    <option value="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_week.geojson">M4.5+ Earthquakes Past Week</option>
    <option value="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson">M2.5+ Earthquakes Past Week</option>
</select>
<button id="btn_play" type="button">go!</button>
<div id="status" style="height:10em;overflow-y:scroll">
</div>
</div>
